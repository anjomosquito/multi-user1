import{c as S,g as z,r as w,O as Z,w as tt,a as et,o as p,b,d as $,e as A,F as I,f as e,h as N,v as C,u as x,i as U,t as h,j as G}from"./app-de19c82f.js";import{_ as rt}from"./AdminAuthenticatedLayout-58f70262.js";import{_ as at}from"./Pagination-e6735ead.js";import"./ApplicationLogo-32c770cc.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-b247280f.js";function nt(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}var H=nt,st=typeof S=="object"&&S&&S.Object===Object&&S,ot=st,it=ot,dt=typeof self=="object"&&self&&self.Object===Object&&self,lt=it||dt||Function("return this")(),q=lt,ct=q,ut=function(){return ct.Date.now()},gt=ut,ft=/\s/;function mt(t){for(var r=t.length;r--&&ft.test(t.charAt(r)););return r}var yt=mt,pt=yt,bt=/^\s+/;function xt(t){return t&&t.slice(0,pt(t)+1).replace(bt,"")}var vt=xt,_t=q,ht=_t.Symbol,J=ht,V=J,K=Object.prototype,kt=K.hasOwnProperty,Tt=K.toString,k=V?V.toStringTag:void 0;function jt(t){var r=kt.call(t,k),i=t[k];try{t[k]=void 0;var l=!0}catch{}var d=Tt.call(t);return l&&(r?t[k]=i:delete t[k]),d}var St=jt,Ot=Object.prototype,wt=Ot.toString;function $t(t){return wt.call(t)}var It=$t,B=J,Nt=St,Ct=It,Et="[object Null]",Lt="[object Undefined]",R=B?B.toStringTag:void 0;function Dt(t){return t==null?t===void 0?Lt:Et:R&&R in Object(t)?Nt(t):Ct(t)}var Ft=Dt;function At(t){return t!=null&&typeof t=="object"}var Ut=At,Gt=Ft,Vt=Ut,Bt="[object Symbol]";function Rt(t){return typeof t=="symbol"||Vt(t)&&Gt(t)==Bt}var Wt=Rt,Mt=vt,W=H,Pt=Wt,M=0/0,Ht=/^[-+]0x[0-9a-f]+$/i,qt=/^0b[01]+$/i,Jt=/^0o[0-7]+$/i,Kt=parseInt;function Qt(t){if(typeof t=="number")return t;if(Pt(t))return M;if(W(t)){var r=typeof t.valueOf=="function"?t.valueOf():t;t=W(r)?r+"":r}if(typeof t!="string")return t===0?t:+t;t=Mt(t);var i=qt.test(t);return i||Jt.test(t)?Kt(t.slice(2),i?2:8):Ht.test(t)?M:+t}var Xt=Qt,Yt=H,E=gt,P=Xt,zt="Expected a function",Zt=Math.max,te=Math.min;function ee(t,r,i){var l,d,m,g,c,u,s=0,o=!1,y=!1,a=!0;if(typeof t!="function")throw new TypeError(zt);r=P(r)||0,Yt(i)&&(o=!!i.leading,y="maxWait"in i,m=y?Zt(P(i.maxWait)||0,r):m,a="trailing"in i?!!i.trailing:a);function v(n){var f=l,_=d;return l=d=void 0,s=n,g=t.apply(_,f),g}function T(n){return s=n,c=setTimeout(j,r),o?v(n):g}function Q(n){var f=n-u,_=n-s,F=r-f;return y?te(F,m-_):F}function L(n){var f=n-u,_=n-s;return u===void 0||f>=r||f<0||y&&_>=m}function j(){var n=E();if(L(n))return D(n);c=setTimeout(j,Q(n))}function D(n){return c=void 0,a&&l?v(n):(l=d=void 0,g)}function X(){c!==void 0&&clearTimeout(c),s=0,l=u=d=c=void 0}function Y(){return c===void 0?g:D(E())}function O(){var n=E(),f=L(n);if(l=arguments,d=this,u=n,f){if(c===void 0)return T(u);if(y)return clearTimeout(c),c=setTimeout(j,r),v(u)}return c===void 0&&(c=setTimeout(j,r)),g}return O.cancel=X,O.flush=Y,O}var re=ee;const ae=z(re),ne=e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Activity Log",-1),se={class:"py-12"},oe={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ie={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},de={class:"p-6 text-gray-900 dark:text-gray-100"},le={class:"flex flex-wrap gap-3 mb-4"},ce={class:"flex-1 min-w-[200px] max-w-xs"},ue={class:"flex items-center gap-2"},ge=e("span",{class:"text-gray-500 text-sm"},"to",-1),fe={class:"overflow-x-auto bg-white dark:bg-gray-800 rounded-lg shadow"},me={class:"w-full whitespace-nowrap text-sm"},ye=e("thead",null,[e("tr",{class:"text-left font-semibold bg-gray-50 dark:bg-gray-700"},[e("th",{class:"px-4 py-2 text-gray-600 dark:text-gray-200"},"Description"),e("th",{class:"px-4 py-2 text-gray-600 dark:text-gray-200 w-32"},"User"),e("th",{class:"px-4 py-2 text-gray-600 dark:text-gray-200 w-32"},"Date")])],-1),pe={class:"divide-y divide-gray-100 dark:divide-gray-700"},be={class:"px-4 py-2"},xe={class:"text-gray-900 dark:text-gray-100"},ve={key:0,class:"mt-1 space-y-1"},_e={class:"font-medium"},he={class:"ml-1"},ke={class:"px-4 py-2 text-gray-500 dark:text-gray-400 text-sm"},Te={class:"px-4 py-2 text-gray-500 dark:text-gray-400 text-sm"},je={key:0},Se=e("td",{colspan:"4",class:"px-4 py-2 text-center text-gray-500 dark:text-gray-400"}," No activities found. ",-1),Oe=[Se],Le={__name:"Index",props:{activities:{type:Object,required:!0}},setup(t){const r=w(""),i=w(""),l=w(""),d=ae(()=>{Z.get(route("admin.activity-log.index"),{search:r.value,start_date:i.value,end_date:l.value},{preserveState:!0,preserveScroll:!0,replace:!0})},300);tt([r,i,l],()=>{d()});function m(s){return new Date(s).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function g(s){return s.split("_").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}function c(s){return s==null?"N/A":typeof s=="boolean"?s?"Yes":"No":typeof s=="object"?JSON.stringify(s):s}function u(){r.value="",i.value="",l.value="",d()}return(s,o)=>{const y=et("Head");return p(),b(I,null,[$(y,{title:"Activity Log"}),$(rt,null,{header:A(()=>[ne]),default:A(()=>[e("div",se,[e("div",oe,[e("div",ie,[e("div",de,[e("div",le,[e("div",ce,[N(e("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>r.value=a),type:"text",placeholder:"Search...",class:"w-full border rounded-lg px-3 py-1.5 text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",onInput:o[1]||(o[1]=(...a)=>x(d)&&x(d)(...a))},null,544),[[C,r.value]])]),e("div",ue,[N(e("input",{"onUpdate:modelValue":o[2]||(o[2]=a=>i.value=a),type:"date",class:"border rounded-lg px-2 py-1.5 text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",onChange:o[3]||(o[3]=(...a)=>x(d)&&x(d)(...a))},null,544),[[C,i.value]]),ge,N(e("input",{"onUpdate:modelValue":o[4]||(o[4]=a=>l.value=a),type:"date",class:"border rounded-lg px-2 py-1.5 text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",onChange:o[5]||(o[5]=(...a)=>x(d)&&x(d)(...a))},null,544),[[C,l.value]])]),e("button",{class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300",onClick:u},"Clear Filters")]),e("div",fe,[e("table",me,[ye,e("tbody",pe,[(p(!0),b(I,null,U(t.activities.data,a=>(p(),b("tr",{key:a.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[e("td",be,[e("div",xe,h(a.description),1),a.properties&&Object.keys(a.properties).length>0?(p(),b("div",ve,[(p(!0),b(I,null,U(a.properties,(v,T)=>(p(),b("div",{key:T,class:"text-xs text-gray-500 dark:text-gray-400"},[e("span",_e,h(g(T))+":",1),e("span",he,h(c(v)),1)]))),128))])):G("",!0)]),e("td",ke,h(a.causer?a.causer.name:"System"),1),e("td",Te,h(m(a.created_at)),1)]))),128)),t.activities.data.length===0?(p(),b("tr",je,Oe)):G("",!0)])])]),$(at,{links:t.activities.links,class:"mt-6"},null,8,["links"])])])])])]),_:1})],64)}}};export{Le as default};
