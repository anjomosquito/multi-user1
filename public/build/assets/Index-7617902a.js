import{T as v,r as h,O as C,w as m,a as B,o as r,s as y,e as d,d as A,f as t,h as g,v as _,b as n,j as f,i as N,t as a,u as q,n as S,k as M,m as V,F as T}from"./app-a2ecb7c5.js";import{l as D}from"./lodash-e5348726.js";import{_ as E}from"./AuthenticatedLayout-9d0ec931.js";import{S as i}from"./sweetalert2.esm.all-509645c6.js";import"./ApplicationLogo-7c7b58d1.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-642b6481.js";const $=t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"List of Medicines",-1),H={class:"py-12"},L={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},P={class:"mb-6"},Q={class:"relative"},U=t("div",{class:"absolute inset-y-0 left-3 flex items-center"},[t("svg",{class:"w-5 h-5 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),j={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},F={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},O=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"},"Name"),t("th",{scope:"col",class:"px-6 py-3"},"Category"),t("th",{scope:"col",class:"px-6 py-3"},"Low Price"),t("th",{scope:"col",class:"px-6 py-3"},"Median Price"),t("th",{scope:"col",class:"px-6 py-3"},"Highest Price"),t("th",{scope:"col",class:"px-6 py-3"},"Quantity"),t("th",{scope:"col",class:"px-6 py-3"},"Dosage"),t("th",{scope:"col",class:"px-6 py-3"},"Exp Date"),t("th",{scope:"col",class:"px-6 py-3"},"Reserve")])],-1),z={key:0},I=t("td",{colspan:"9",class:"px-6 py-4 text-center text-gray-500"}," No medicines found ",-1),R=[I],G={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},J={class:"px-6 py-4"},K={class:"px-6 py-4"},W={class:"px-6 py-4"},X={class:"px-6 py-4"},Y={class:"px-6 py-4"},Z=["onUpdate:modelValue","max"],tt={class:"px-6 py-4"},st={class:"px-6 py-4"},ot={class:"flex px-6 py-4"},nt={__name:"Index",props:{medicines:{type:Array,default:()=>[]}},setup(p){const e=v({medicine_id:null,name:"",lprice:0,mprice:0,hprice:0,quantity:1,dosage:"",expdate:""});function b(o){o&&i.fire({title:"Add to Cart",text:`Are you sure you want to add ${o.name||"this medicine"} (Quantity: ${o.quantity||1}) to your cart?`,icon:"question",showCancelButton:!0,confirmButtonText:"Add to Cart",confirmButtonColor:"#28a745",cancelButtonColor:"gray",cancelButtonText:"Cancel"}).then(l=>{l.isConfirmed&&(e.medicine_id=o.id,e.name=o.name,e.lprice=o.lprice,e.mprice=o.mprice,e.hprice=o.hprice,e.quantity=o.quantity,e.dosage=o.dosage,e.expdate=o.expdate,e.post(route("cart.store"),{onSuccess:()=>{i.fire({icon:"success",title:"Added!",text:"Medicine added to your cart successfully.",timer:3e3,showConfirmButton:!1,toast:!0,position:"top-end",background:"#B5C99A",color:"#000"})}}))})}h(!1);const c=h(""),k=D.debounce(o=>{C.get(route("medicines.index"),{search:o},{preserveState:!0,preserveScroll:!0})},300);return m(c,o=>{k(o)}),(o,l)=>{const w=B("Head");return r(),y(E,null,{header:d(()=>[$]),default:d(()=>[A(w,{title:"Medicines"}),t("main",null,[t("div",H,[t("div",L,[t("div",P,[t("div",Q,[g(t("input",{"onUpdate:modelValue":l[0]||(l[0]=s=>c.value=s),type:"text",placeholder:"Search medicines by name or dosage...",class:"w-4/12 px-10 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600"},null,512),[[_,c.value]]),U])]),t("div",j,[t("table",F,[O,t("tbody",null,[!p.medicines||p.medicines.length===0?(r(),n("tr",z,R)):f("",!0),(r(!0),n(T,null,N(p.medicines,s=>{var u;return r(),n("tr",{key:(s==null?void 0:s.id)||o.index,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},[t("th",G,a((s==null?void 0:s.name)||"N/A"),1),t("td",J,a(((u=s==null?void 0:s.category)==null?void 0:u.name)||"N/A"),1),t("td",K,"₱"+a((s==null?void 0:s.lprice)||"0"),1),t("td",W,"₱"+a((s==null?void 0:s.mprice)||"0"),1),t("td",X,"₱"+a((s==null?void 0:s.hprice)||"0"),1),t("td",Y,[g(t("input",{type:"number","onUpdate:modelValue":x=>s.quantity=x,min:"1",max:(s==null?void 0:s.quantity)||1,class:"w-20 p-1 border border-gray-300 rounded dark:bg-gray-800 dark:text-white"},null,8,Z),[[_,s.quantity,void 0,{number:!0}]])]),t("td",tt,a((s==null?void 0:s.dosage)||"N/A"),1),t("td",st,a((s==null?void 0:s.expdate)||"N/A"),1),t("td",ot,[s?(r(),y(q(S),{key:0,class:"px-4 py-2 ml-4 bg-[#28a745] hover:bg-[#D2E0BE] text-white rounded",onClick:M(x=>b(s),["prevent"]),href:"#"},{default:d(()=>[V(" Add ")]),_:2},1032,["onClick"])):f("",!0)])])}),128))])])])])])])]),_:1})}}};export{nt as default};
