import{_ as w}from"./AuthenticatedLayout-f04d8c74.js";import{S as d}from"./sweetalert2.esm.all-509645c6.js";import{r as x,a as k,o as c,s as B,e as S,d as I,f as e,m as $,b as r,t as n,j as p,F as A,i as N,O as f}from"./app-de19c82f.js";import"./ApplicationLogo-32c770cc.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-b247280f.js";const O={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 py-12"},T={class:"text-2xl font-semibold mb-6 text-center"},q={key:0,class:"ml-2 bg-red-500 text-white text-sm px-2 py-1 rounded-full"},P={key:0,class:"flex items-center justify-center h-64"},Y=e("div",{class:"flex flex-col items-center"},[e("div",{class:"text-center text-gray-500 mb-4"}," Your cart is empty. "),e("div",{class:"animate-float"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h18M3 3l3 18h12l3-18M3 3l3 18h12l3-18"})])])],-1),j=[Y],M={key:1},R={class:"mb-4 flex justify-between items-center"},V={class:"flex items-center"},z=["checked"],D=e("label",null,"Select All",-1),Q={class:"min-w-full bg-white border border-gray-200 shadow-md rounded-lg overflow-hidden"},E=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-gray-600"},"Select"),e("th",{class:"px-6 py-3 text-left text-gray-600"},"Medicine Name"),e("th",{class:"px-6 py-3 text-left text-gray-600"},"Quantity"),e("th",{class:"px-6 py-3 text-left text-gray-600"},"Price"),e("th",{class:"px-6 py-3 text-left text-gray-600"},"Total Price"),e("th",{class:"px-6 py-3 text-left text-gray-600"},"Dosage"),e("th",{class:"px-6 py-3 text-left text-gray-600"},"Exp Date"),e("th",{class:"px-6 py-3 text-left text-gray-600"},"Action")])],-1),F={class:"px-6 py-4"},H=["checked","onChange"],K={class:"px-6 py-4"},L={class:"px-6 py-4 flex items-center"},G=["onClick"],J={class:"px-4"},U=["onClick"],W={class:"px-6 py-4"},X={class:"px-6 py-4"},Z={class:"px-6 py-4"},ee={class:"px-6 py-4"},te={class:"px-6 py-4"},se=["onClick"],ie={__name:"Index",props:{cartItems:Array,cartCount:Number},setup(i){const u=i,o=x(new Set),a=x(!1),m=()=>{a.value=!a.value,a.value?o.value=new Set(u.cartItems.map(t=>t.id)):o.value.clear()},y=t=>{o.value.has(t)?(o.value.delete(t),a.value=!1):(o.value.add(t),o.value.size===u.cartItems.length&&(a.value=!0))},_=t=>{t.quantity++},g=t=>{t.quantity>1&&t.quantity--};function v(t){d.fire({title:"Remove Item",text:`Are you sure you want to remove ${t.name} from your cart?`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, remove it!",confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",cancelButtonText:"Cancel"}).then(l=>{l.isConfirmed&&f.delete(route("cart.destroy",t.id),{onSuccess:()=>{o.value.delete(t.id),d.fire({title:"Removed!",text:`${t.name} has been removed from your cart.`,icon:"success",timer:2e3,showConfirmButton:!1})}})})}function b(){const t=u.cartItems.filter(l=>o.value.has(l.id));if(t.length===0){d.fire({title:"No Items Selected",text:"Please select at least one item to order.",icon:"warning",confirmButtonText:"OK"});return}d.fire({title:"Place Order",text:`Are you sure you want to place order for ${t.length} selected item(s)?`,icon:"info",showCancelButton:!0,confirmButtonText:"Yes, order now!",confirmButtonColor:"#28a745",cancelButtonColor:"gray",cancelButtonText:"Cancel"}).then(l=>{l.isConfirmed&&f.post(route("purchase.store"),{cartItems:t},{onSuccess:()=>{o.value.clear(),a.value=!1,d.fire({title:"Order Placed!",text:"Your purchase has been successfully completed.",icon:"success",timer:3e3,showConfirmButton:!1})}})})}return(t,l)=>{const C=k("Head");return c(),B(w,null,{default:S(()=>[I(C,{title:"Cart"}),e("div",O,[e("h2",T,[$("Your Cart "),i.cartCount>0?(c(),r("span",q,n(i.cartCount),1)):p("",!0)]),i.cartItems.length===0?(c(),r("div",P,j)):(c(),r("div",M,[e("div",R,[e("div",V,[e("input",{type:"checkbox",checked:a.value,onChange:m,class:"mr-2 h-4 w-4"},null,40,z),D]),o.value.size>0?(c(),r("button",{key:0,onClick:b,class:"px-4 py-2 bg-[#28a745] hover:bg-green-600 text-white rounded"}," Order Selected ("+n(o.value.size)+") ",1)):p("",!0)]),e("table",Q,[E,e("tbody",null,[(c(!0),r(A,null,N(i.cartItems,s=>(c(),r("tr",{key:s.id,class:"border-b hover:bg-gray-50 transition-colors"},[e("td",F,[e("input",{type:"checkbox",checked:o.value.has(s.id),onChange:h=>y(s.id),class:"h-4 w-4"},null,40,H)]),e("td",K,n(s.name),1),e("td",L,[e("button",{onClick:h=>g(s),class:"px-2 py-1 bg-gray-300 rounded-l"},"-",8,G),e("span",J,n(s.quantity),1),e("button",{onClick:h=>_(s),class:"px-2 py-1 bg-gray-300 rounded-r"},"+",8,U)]),e("td",W,"₱"+n(s.mprice),1),e("td",X,"₱"+n(s.mprice*s.quantity),1),e("td",Z,n(s.dosage),1),e("td",ee,n(s.expdate),1),e("td",te,[e("button",{onClick:h=>v(s),class:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded"}," Remove ",8,se)])]))),128))])])]))])]),_:1})}}};export{ie as default};
