import{r as g,T as _,o as d,b as a,d as f,u as t,e as v,F as k,Z as E,f as e,t as i,j as c,i as S,k as w,h as u,v as p}from"./app-a2ecb7c5.js";import{_ as U}from"./AdminAuthenticatedLayout-8dbc2ec8.js";import"./ApplicationLogo-7c7b58d1.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-642b6481.js";const $=e("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Medicine Categories",-1),B={class:"py-12"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},T={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},z={key:0,class:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",role:"alert"},I={class:"block sm:inline"},L={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},O=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"},"Name"),e("th",{scope:"col",class:"px-6 py-3"},"Description"),e("th",{scope:"col",class:"px-6 py-3"},"Medicines Count"),e("th",{scope:"col",class:"px-6 py-3"},"Actions")])],-1),Z={scope:"row",class:"px-6 py-4 font-medium whitespace-nowrap"},G={class:"px-6 py-4"},H={class:"px-6 py-4"},J={class:"px-6 py-4 space-x-2"},K=["onClick"],P=["onClick"],Q={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4"},R={class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full"},W=e("h3",{class:"text-lg font-medium mb-4"},"Add New Category",-1),X=e("label",{class:"block text-sm font-medium mb-1"},"Name",-1),Y={key:0,class:"text-red-500 text-sm"},ee=e("label",{class:"block text-sm font-medium mb-1"},"Description",-1),te={key:0,class:"text-red-500 text-sm"},se=e("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Add Category ",-1),oe={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4"},re={class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full"},de=e("h3",{class:"text-lg font-medium mb-4"},"Edit Category",-1),ae=e("label",{class:"block text-sm font-medium mb-1"},"Name",-1),le={key:0,class:"text-red-500 text-sm"},ne=e("label",{class:"block text-sm font-medium mb-1"},"Description",-1),ie={key:0,class:"text-red-500 text-sm"},ce=e("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Update Category ",-1),ge={__name:"Index",props:{categories:Array,errors:Object,success:String},setup(C){const m=g(!1),b=g(!1),x=g(null),r=_({name:"",description:""}),o=_({name:"",description:""});function M(){m.value=!0,r.reset()}function h(){m.value=!1,r.reset()}function A(l){x.value=l,o.name=l.name,o.description=l.description,b.value=!0}function y(){b.value=!1,x.value=null,o.reset()}function j(){r.post(route("admin.categories.store"),{onSuccess:()=>{h()}})}function D(){o.put(route("admin.categories.update",x.value.id),{onSuccess:()=>{y()}})}function N(l){confirm("Are you sure you want to delete this category? Medicines in this category will become uncategorized.")&&router.delete(route("admin.categories.destroy",l))}return(l,n)=>(d(),a(k,null,[f(t(E),{title:"Medicine Categories"}),f(U,null,{header:v(()=>[e("div",{class:"flex justify-between items-center"},[$,e("button",{onClick:M,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"}," Add Category ")])]),default:v(()=>[e("div",B,[e("div",F,[e("div",q,[e("div",T,[l.$page.props.flash.success?(d(),a("div",z,[e("span",I,i(l.$page.props.flash.success),1)])):c("",!0),e("table",L,[O,e("tbody",null,[(d(!0),a(k,null,S(C.categories,s=>(d(),a("tr",{key:s.id,class:"bg-white dark:bg-gray-900"},[e("th",Z,i(s.name),1),e("td",G,i(s.description),1),e("td",H,i(s.medicines_count),1),e("td",J,[e("button",{onClick:V=>A(s),class:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300"}," Edit ",8,K),e("button",{onClick:V=>N(s.id),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"}," Delete ",8,P)])]))),128))])])])])])]),m.value?(d(),a("div",Q,[e("div",R,[W,e("form",{onSubmit:w(j,["prevent"]),class:"space-y-4"},[e("div",null,[X,u(e("input",{"onUpdate:modelValue":n[0]||(n[0]=s=>t(r).name=s),type:"text",class:"w-full rounded-md",required:""},null,512),[[p,t(r).name]]),t(r).errors.name?(d(),a("div",Y,i(t(r).errors.name),1)):c("",!0)]),e("div",null,[ee,u(e("textarea",{"onUpdate:modelValue":n[1]||(n[1]=s=>t(r).description=s),class:"w-full rounded-md",rows:"3"},null,512),[[p,t(r).description]]),t(r).errors.description?(d(),a("div",te,i(t(r).errors.description),1)):c("",!0)]),e("div",{class:"flex justify-end space-x-3"},[e("button",{type:"button",onClick:h,class:"px-4 py-2 border rounded-md hover:bg-gray-100 dark:hover:bg-gray-700"}," Cancel "),se])],32)])])):c("",!0),b.value?(d(),a("div",oe,[e("div",re,[de,e("form",{onSubmit:w(D,["prevent"]),class:"space-y-4"},[e("div",null,[ae,u(e("input",{"onUpdate:modelValue":n[2]||(n[2]=s=>t(o).name=s),type:"text",class:"w-full rounded-md",required:""},null,512),[[p,t(o).name]]),t(o).errors.name?(d(),a("div",le,i(t(o).errors.name),1)):c("",!0)]),e("div",null,[ne,u(e("textarea",{"onUpdate:modelValue":n[3]||(n[3]=s=>t(o).description=s),class:"w-full rounded-md",rows:"3"},null,512),[[p,t(o).description]]),t(o).errors.description?(d(),a("div",ie,i(t(o).errors.description),1)):c("",!0)]),e("div",{class:"flex justify-end space-x-3"},[e("button",{type:"button",onClick:y,class:"px-4 py-2 border rounded-md hover:bg-gray-100 dark:hover:bg-gray-700"}," Cancel "),ce])],32)])])):c("",!0)]),_:1})],64))}};export{ge as default};
